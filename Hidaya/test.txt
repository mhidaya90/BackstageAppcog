/*
 * Hi!
 *
 * Note that this is an EXAMPLE Backstage backend. Please check the README.
 *
 * Happy hacking!
 */
import dotenv from 'dotenv';
dotenv.config();

import { createBackend } from '@backstage/backend-defaults';

// Static imports for all plugins and modules
import { appPlugin } from '@backstage/plugin-app-backend/alpha';
import { proxyPlugin } from '@backstage/plugin-proxy-backend/alpha';
import { scaffolderPlugin } from '@backstage/plugin-scaffolder-backend/alpha';
import { techdocsPlugin } from '@backstage/plugin-techdocs-backend/alpha';

import { authPlugin } from '@backstage/plugin-auth-backend';
import { guestAuthProvider } from '@backstage/plugin-auth-backend-module-guest-provider';

import { catalogPlugin } from '@backstage/plugin-catalog-backend/alpha';
import { scaffolderEntityModel } from '@backstage/plugin-catalog-backend-module-scaffolder-entity-model';

import { permissionPlugin } from '@backstage/plugin-permission-backend/alpha';
import { allowAllPolicy } from '@backstage/plugin-permission-backend-module-allow-all-policy';

import { searchPlugin } from '@backstage/plugin-search-backend/alpha';
import { catalogIndexModule } from '@backstage/plugin-search-backend-module-catalog';
import { techdocsIndexModule } from '@backstage/plugin-search-backend-module-techdocs/alpha';

import { bitrisePlugin } from '@backstage/plugin-flowsource-bitrise-backend';

// Create and configure the backend
const backend = createBackend();

backend.add(appPlugin);
backend.add(proxyPlugin);
backend.add(scaffolderPlugin);
backend.add(techdocsPlugin);

backend.add(authPlugin);
backend.add(guestAuthProvider);

backend.add(catalogPlugin);
backend.add(scaffolderEntityModel);

backend.add(permissionPlugin);
backend.add(allowAllPolicy);

backend.add(searchPlugin);
backend.add(catalogIndexModule);
backend.add(techdocsIndexModule);

backend.add(bitrisePlugin);

backend.start();
